Скрипт ping_check.sh проверяет доступность хоста с помощью команды ping, а затем записывает результат в лог-файл.
В переменной HOST заполняется адрес проверяемого сервера.
В переменной LOG_FILE заполняется путь и наименование файла куда записываются результаты выполнения. По умолчанию создается в той же директории где находится основной скрипт (ping_check.sh) и называется: ping_check.log.
Доступность проверяется одиночным запросом на адрес хоста: ping -c 1 $HOST.
Далее результат запроса записывается в ячейку > /dev/null без вывода на консоль (0 = хост доступен, 1 = хост не доступен, 2 и более значит ошибка).
Далее в if происходит сравнение записанного значения в /dev/null с 0-лём [ $? -eq 0 ].
В случае положительного (true) результата в LIG_FILE записывается: день недели / текущая дата / время / часовой пояс / имя хоста и is up. (хост поднят или хост доступен)
В случае отрицательного (False) результата в LIG_FILE записывается: день недели / текущая дата / время / часовой пояс / имя хоста и is down. (хост упал или хост не доступен)
Далее скрипт завершает свою работу.
По умолчанию скрипт настроен на хост: ya.ru
Для изменения хоста требуется изменить значение переменной: HOST="значение".
Для запуска скрипта, находясь в директории нахождения файла (ping_chek.sh) выполните команду: ./ping_check.sh или bash ping_check.sh
Для просмотра полученных данных необходимо просмотреть файл ping_check.log.
